# API V3 接口规划

## 接口说明

Api v3的接口遵守，少嵌套，多规范字节的模式


## 登录相关接口

- 发送验证码 ✅
- 验证码登录 ✅
- 获取当前用户所有身份 ✅
- 修改头像 user_member
- 修改手机号 user_member
- 添加身份 member + user_member
- 修改其他信息



## 多态/通用接口

### 回复模块
- 根据多态查询回复列表
- 添加回复
- 删除回复

### 点赞列表
- 根据多态查询点赞列表
- 点赞/取消

### 阿里云接口
- 获取aliyun 令牌
- 同步上传成功结果


### 附件接口
- 上传图片
- 上传视频
- 上传文件
- 上传语音
- 上传音频


### 腾讯云接口
- 翻译文字
- 音频转文字
- 数学作业批改
- 英语作业批改
- 语文作业批改


## 身份列表User Member / 联系人列表


### 联系人列表
- 与我有关的联系人
- 全校所有联系人
- 我的好友 ## 代做



## Member模块（档案）
- 与我关联的全部Member
- 学校内全部Member
- 添加学生身份  user_member
- 删除学生身份  user_member
- 修改学生身份  user_member

### 学生接口
- 与我关联的全部学生
- 学校内全部学生
- 添加学生
- 修改学生
- 删除学生


### 老师接口
- 与我关联的全部老师
- 学校内全部老师
- 添加老师
- 修改老师
- 删除老师


## 班级接口

包含校车，普通班级，俱乐部，暑假班，寒假班

- 与我关联的全部班级
- 学校内全部班级
- 添加成员  membership
- 删除成员  membership
- 修改成员  membership

### 普通班级，寒假班，校车，等等班级类型 班级类型的
- 与我关联的全部班级 （可以根据类型判断, 校车什么的 ）
- 学校内全部班级
- 添加班级
- 修改班级
- 删除班级


### 部门类型
- 与我关联的全部部门
- 全校所有部门
- 添加部门
- 修改部门
- 删除部门





## 聊天接口

### 会话接口
- 与我有关的全部会话
- 修改聊天室 置顶，免打扰，修改昵称

### 聊天室
- 与我有关的全部聊天室
- 学下内部的全部聊天室
- 修改聊天室
- 加人
- 移除成员
- 设置管理员


### 聊天消息
- 单个聊天室的全部聊天消息
- 与我有关的所有消息（搜索会用多）
- 学校内部的全部聊天消息
- 发送消息（文本，视频，语音，图片，定位，自定义） 前端分方法写
- 撤回消息



## 朋友圈

- 与我相关的朋友圈
- 学校内部的全部朋友圈
- 我发送的朋友圈 /mine
- 朋友圈点赞人员列表 /多态接口
- 朋友圈回复列表 /多态接口
- 删除朋友圈





## 网盘管理

### 网盘
- 与我相关
- 学校内部的全部

### 文件夹/文件
- 根据网盘ID查询文件夹
- 创建文件夹/文件 # 修改提供上级目录，多态，
- 删除文件夹以及内部所有文件
- 修改文件夹/文件
- 获取文件夹内所有文件

## 作业管理

### 作业管理 Homework
- 获取与我有关的所有作业
- 获取全校作业
- 创建作业
- 修改作业
- 删除作业


### 作业记录 HomeworkRecord #暂时不上传
- 获取与我有关的所有作业记录
- 获取全校的所有作业记录


## 点名模块

### 点名册
- 获取与我有关的点名记录
- 获取全校所有的点名记录
- 创建点名记录+删除或者添加人员
- 封存点名册

### 点名记录
- 修改点名情况
- 删除点名记录


